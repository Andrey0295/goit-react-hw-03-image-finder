{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Container/Container.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/LoaderBlock/LoaderBlock.module.css","App.module.css","Components/SearchBar/SearchBar.module.css","Components/Container/Container.js","Components/SearchBar/SearchBar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/LoaderBlock/LoaderBlock.js","Components/Modal/Modal.js","services/images-api.js","App.js","index.js"],"names":["module","exports","Container","children","className","styles","container","defaultProps","SearchBar","state","query","searchInputId","shortid","generate","handleSearchInputChange","e","value","currentTarget","setState","handleSubmit","onSubmit","props","preventDefault","this","Searchbar","SearchForm","htmlFor","SearchFormInput","type","onChange","id","placeholder","autoFocus","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","imageUrl","itemId","largeUrl","src","alt","name","ImageGalleryItemImage","ImageGallery","imagesData","handleClick","onClick","map","webformatURL","largeImageURL","Button","getMoreImages","LoaderBlock","color","height","width","Modal","handleKeyDown","onClose","code","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","searchQuery","currentPage","axios","get","then","response","data","hits","App","images","largeImageUrl","isLoading","showModal","handleImageClick","toggleModal","prevState","onChangeQuery","fetchImages","options","imagesApi","finally","prevProps","setTimeout","scrollTo","top","document","documentElement","scrollHeight","behavior","shouldRenderLoadMoreBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6603e246.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2aTDS\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2vMQU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1xc3E\",\"Modal\":\"Modal_Modal__1MDZc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2cpEG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2SyOS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2GCnk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderBlock\":\"LoaderBlock_LoaderBlock__2bZOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3AvU8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3rBPe\",\"SearchForm\":\"SearchBar_SearchForm__3n-bc\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3lQh0\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2HCSh\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3kWZ4\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nContainer.defaultProps = {\r\n  children: [],\r\n};\r\n\r\nexport default Container;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport shortid from 'shortid';\r\n\r\nimport styles from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  searchInputId = shortid.generate();\r\n\r\n  handleSearchInputChange = e => {\r\n    const { value } = e.currentTarget;\r\n    this.setState({\r\n      query: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { onSubmit } = this.props;\r\n    const { query } = this.state;\r\n    e.preventDefault();\r\n\r\n    onSubmit(query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <label htmlFor={this.searchInputId}></label>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleSearchInputChange}\r\n            id={this.searchInputId}\r\n            placeholder=\"Search images and photos\"\r\n            autoFocus\r\n          />\r\n          <button className={styles.SearchFormButton} type=\"submit\">\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ imageUrl, itemId, largeUrl }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} id={itemId}>\r\n      <img\r\n        src={imageUrl}\r\n        alt=\"\"\r\n        name={largeUrl}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageUrl: PropTypes.string.isRequired,\r\n  itemId: PropTypes.number.isRequired,\r\n  largeUrl: PropTypes.string,\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeUrl: '',\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ imagesData, handleClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery} onClick={handleClick}>\r\n      {imagesData.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          itemId={id}\r\n          largeUrl={largeImageURL}\r\n          imageUrl={webformatURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  imagesData: PropTypes.array,\r\n  handleClick: PropTypes.func.isRequired,\r\n};\r\n\r\nImageGallery.defaultProps = {\r\n  imagesData: [],\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ getMoreImages }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={getMoreImages}>\r\n      load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  getMoreImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport styles from './LoaderBlock.module.css';\r\n\r\nconst LoaderBlock = () => {\r\n  return (\r\n    <div className={styles.LoaderBlock}>\r\n      <Loader type=\"Grid\" color=\"#b50d0d\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderBlock;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    const { onClose } = this.props;\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { onClose } = this.props;\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nModal.defaultProps = {\r\n  children: [],\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '19312346-1618d264863fa21be7207d71c';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchImages };\r\n","import React, { Component } from 'react';\n\nimport Container from './Components/Container/Container';\nimport SearchBar from './Components/SearchBar/SearchBar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Button from './Components/Button/Button';\nimport LoaderBlock from './Components/LoaderBlock/LoaderBlock';\nimport Modal from './Components/Modal/Modal';\n\nimport imagesApi from './services/images-api';\n\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    largeImageUrl: '',\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 2000);\n  }\n\n  handleImageClick = e => {\n    const { name } = e.target;\n    if (e.target !== e.currentTarget) {\n      this.setState({ largeImageUrl: name });\n      this.toggleModal();\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(({ images, currentPage }) => ({\n          images: [...images, ...hits],\n          currentPage: currentPage + 1,\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageUrl } = this.state;\n    const shouldRenderLoadMoreBtn = images.length > 0 && !isLoading;\n    return (\n      <>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <Container>\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={largeImageUrl} alt=\"\" />\n            </Modal>\n          )}\n\n          <div className={styles.App}>\n            <ImageGallery\n              imagesData={images}\n              handleClick={this.handleImageClick}\n            />\n\n            {isLoading && <LoaderBlock />}\n            {shouldRenderLoadMoreBtn && (\n              <Button getMoreImages={this.fetchImages} />\n            )}\n          </div>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}